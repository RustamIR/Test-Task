# Test-Task

## Запуск программы
    1. Клонировать проект git clone: `https://github.com/RustamIR/Test-Task`
    2. Синхронизировать хранилища с .csv с помощью python3 converter.py в проекте
    3. Запустить сервис с помощью docker-compose up -d
    4. Запустите `main.py` в директории database.
    5. В поисковике выполнив запрос: `http://localhost:8000/posts/search?text=привет`
    6. Можно выполнять запросы через FastAPI: `http://0.0.0.0:8000/api/openapi`

## Проблемы
    - Не синхронизированы id в бд и uid полученный на выходе из elastic для поиска данных по id.
    - Не выполняется запрос по текстовому поиску.
    - Нет функции для удаления текста по id.

## Задание
Необходимо написать очень простой поисковик по текстам документов. Данные хранятся в БД по желанию, поисковый индекс в эластике. 

Ссылка на тестовый массива данных: [[csv](https://drive.google.com/uc?export=download&confirm=s5vl&id=1O5rOunfzkkF4vIZXk3WCbb6A2XpRPDt1)]

### Структура БД:

- `id` - уникальный для каждого документа;
- `rubrics` - массив рубрик;
- `text` - текст документа;
- `created_date` - дата создания документа.

### Структура Индекса:

- `iD` - id из базы;
- `text` - текст из структуры БД.

## Необходимые методы

- сервис должен принимать на вход произвольный текстовый запрос, искать по тексту документа в индексе и возвращать первые 20 документов со всем полями БД, упорядоченные по дате создания;
- удалять документ из БД и индекса по полю  `id`.

## Технические требования:

- любой python фреймворк кроме Django и DRF;
- `README` с гайдом по поднятию;
- `docs.json` - документация к сервису в формате openapi.

## Программа максимум:

- функциональные тесты;
- сервис работает в Docker;
- асинхронные вызовы.
